<% if user_signed_in? %>
  
<%= link_to('Logout', destroy_user_session_path, method: :delete, class: "badge badge-pill badge-danger" ) %>       

<% else %>
  <li>
  <%= link_to('Login', new_user_session_path) %>  
  </li>
<% end %>

<div class="container">

    <div class="navbar ">
        <nav class="navbar navbar-default">
            <%= image_tag 'to-do-list (2).png', class:"img" %>
                    <%=link_to 'View all tasks',  category_tasks_path, class: "badge badge-light" %>
                    <%=link_to 'Categories',  categories_path,  class:"badge badge-pill badge-secondary"%>
        </nav>
    </div><br><br>
<%= form_with model: [@category, @task],  :url => {:controller => 'tasks', :action => 'create'}, class: "form",  local: true do |form| %>
 
 <% if @task.errors.any? %>
    <div id="error_explanation">
      <h2>
        <%= pluralize(@task.errors.count, "error") %> prohibited
        this task from being saved:
      </h2>
      <ul>
        <% @task.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

<h4>The secret of getting ahead is getting started.</h4>
<h6 class="text-muted">Create task</h6>
    <%=form.label :title%> : <br>
    <%=form.text_field :title, class: "form-control", placeholder: "Type here." %>

    <%=form.label :details%> :<br>
    <%=form.text_area :details, class: "form-control" %><br>
   
   <div class="select-container">
        <div class="select-child">
            <%= form.label :category %>
            <%= form.select :category_id, @categories.map{ |c| [c.name, c.id] } %>
        </div>
        <div class="select-child">
            <%= form.label :date_deadline%>
            <%= form.date_select :set_date, start_year: 1800, end_year: Time.now.year %>
    </div>

    </div>
   <div class="col text-center">
        <%= form.submit :Save, class: "btn btn-success"%>
    </div>
<%end%>

<%= image_tag 'to-do.png', class: "vector img-responsive"%>
